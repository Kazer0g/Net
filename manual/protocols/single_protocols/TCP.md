(Transmission Control Protocol)

> В сети файлы не передаются целиком, а дробятся и передаются в виде относительно небольших сообщений. Далее они передаются другому устройству — получателю, где повторно собираются в файл.

> Например, человек хочет скачать картинку. Сервер обрабатывает запрос и высылает в ответ требуемое изображение. Ему, в свою очередь, необходим путь или канал, по которому он будет передавать информацию. Поэтому сервер обращается к сетевому сокету для установки требуемого соединения и отправки картинки. Сервер дробит данные, инкапсулирует их в блоки, которые передаются на уровень TCP получателя при помощи IP-протокола. Далее получатель подтверждает факт передачи.

> У протокола TCP есть несколько особенностей:

-   **Система нумерации сегментов.** TCP отслеживает передаваемые и принимаемые сегменты, присваивая номера каждому из них. Байтам данных, которые должны быть переданы, присваивается определенный номер байта, в то время как сегментам присваиваются порядковые номера.
-   **Управление потоком.** Функция ограничивает скорость, с которой отправитель передает данные. Это делается для обеспечения надежности доставки, в том числе чтобы компьютер не генерировал пакетов больше, чем может принять другое устройство. Если говорить простым языком, то получатель постоянно сообщает отправителю о том, какой объем данных может быть получен.
-   **Контроль ошибок.** Функция реализуется для повышения надежности путем проверки байтов на целостность.
-   **Контроль перегрузки сети.** Протокол TCP учитывает уровень перегрузки в сети, определяемый объемом данных, отправленных узлом.
-- | TCP | UDP
-- | -- | --
Состояние соединенния | Требуется установленное соединение для передачи данных (соединение должно быть закрыто после завершения передачи) | Протокол без соединения, без требований к открытию, поддержанию или прерыванию соединения
Гарантия доставки | Может гарантировать доставку данных получателю | Не гарантирует доставку данных получателю
Повторная передача данных | Повторная передача нескольких кадров в случае потери одного из них | Отсутствие повторной передачи потерянных пакетов
Проверка ошибок | Полная проверка ошибок | Базовый механизм проверки ошибок. Использует вышестоящие протоколы для проверки целостности
Метод передачи | Данные считываются как поток байтов; сообщения передаются по границам сегментов | UDP-пакеты с определенными границами; отправляются по отдельности и проверяются на целостность по прибытии
Сферы применения | Используется для передачи сообщений электронной почты, HTML-страниц браузеров | Видеоконференции, потоковое вещание, DNS, VoIP, IPTV


![[Pasted image 20221116194726.png]]

> SYN - Запрос на подключение по протоколу TCP. Если отправлен пакет с флагом SYN, это означает, что клиент запрашивает у сервера соединение. Сервер в свою очередь должен ответить клиенту пакетом с флагом "SYN-ACK".

> ACK (Acknowledgement number) - **номер подтверждения**. Когда сообщение содержит флаг ACK, то значение в номере подтверждения должно соответствовать следующему порядковому номеру (SYN), которое отправитель сообщения с флагом ACK ожидает получить от передающей системы.
> 

> Благодаря представленному алгоритму, TCP считается надежным протоколом передачи информации, так как после каждой передачи данных, предварительно разбитых на пакеты для надежности доставки, протокол проверяет целостность доставленной информации, чего не делает протокол UDP. Однако из-за большого количесва сообщений между клиентом и сервером, благодаря которым обеспечивается надежность, TCP протокол работает дольше чем вышеупомянутый UDP.

[[OSI]]
